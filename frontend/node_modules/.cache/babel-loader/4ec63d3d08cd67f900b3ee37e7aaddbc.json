{"ast":null,"code":"var _jsxFileName = \"/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/src/Menu/AddItem.js\";\nimport React, { Component } from 'react';\nimport '../App.css';\nimport cookie from 'react-cookies';\nimport { Redirect } from 'react-router';\nimport { Collapse, Navbar, NavbarToggler, NavbarBrand, Nav, UncontrolledCollapse, Button, UncontrolledDropdown, DropdownToggle, DropdownMenu, DropdownItem, NavItem, NavLink } from 'reactstrap';\nimport { connect } from 'react-redux';\nimport { addItem, getAll } from '../Redux/actions/sectionAction';\nimport axios from 'axios'; //Define a Login Component\n\nclass AddMenu extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      redirectVar: \"\",\n      collapse: \"\",\n      message: \"\",\n      imageLocation: \"\",\n      selectedFile: \"\"\n    };\n    this.formSumbit = this.formSumbit.bind(this);\n  }\n\n  toggle(e, index) {\n    console.log(index);\n    this.setState({\n      collapse: this.state.collapse === index ? null : index\n    });\n  }\n\n  componentDidMount() {\n    this.state.collapse = \"\";\n    this.renderMyData();\n  }\n\n  onChange(e) {\n    console.log(e.target.files[0]);\n    this.setState({\n      selectedFile: e.target.files[0]\n    });\n  }\n\n  formSumbit(e, index) {\n    e.preventDefault();\n    let data = new FormData();\n    console.log(\"0 idnex\", e.target[0].value);\n    console.log(\"target\", e.target);\n    console.log(\"selectedFile and index\", this.state.selectedFile, index);\n    data.append('file', this.state.selectedFile);\n    data.append('name', e.target[0].value);\n    data.append('description', e.target[1].value);\n    data.append('price', e.target[2].value);\n    data.append('restaurant_name', localStorage.getItem('restaurant_name'));\n    data.append('email', localStorage.getItem('email'));\n    data.append('section_id', index);\n    data.append('cuisine', e.target[3].value);\n    this.props.addItem(data);\n\n    if (this.props.output) {\n      alert(\"Item Added successfully!!\");\n    }\n\n    e.target.reset();\n  }\n\n  async renderMyData() {\n    this.state.sections = [];\n    console.log(\"render data\");\n    let data = {\n      id: localStorage.getItem('_id'),\n      email: localStorage.getItem('email'),\n      name: localStorage.getItem('restaurant_name')\n    };\n    this.props.getAll(data);\n    console.log(\"sections\", this.props.sections);\n  }\n\n  render() {\n    if (localStorage.getItem(\"token\") == null && localStorage.getItem(\"type\") != \"owner\") {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      });\n    }\n\n    let displaySection = \"\";\n\n    if (this.props.sections !== undefined) {\n      displaySection = this.props.sections.map((element, index) => React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"alert alert-info alert-dismissable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, element.section_name), React.createElement(Button, {\n        id: element._id,\n        outline: true,\n        color: \"info\",\n        onClick: e => this.toggle(e, element._id),\n        style: {\n          marginBottom: '1rem'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"New Item\"), React.createElement(Collapse, {\n        isOpen: this.state.collapse == element._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        class: \"form-horizontal\",\n        role: \"form\",\n        onSubmit: e => this.formSumbit(e, element._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        class: \"col-lg-3 control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Name\"), React.createElement(\"div\", {\n        class: \"col-lg-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        class: \"form-control\",\n        type: \"text\",\n        placeholder: \"Item Name\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        class: \"col-lg-3 control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"Description\"), React.createElement(\"div\", {\n        class: \"col-lg-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        class: \"form-control\",\n        type: \"text\",\n        placeholder: \"Item Description\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        class: \"col-lg-3 control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"Price\"), React.createElement(\"div\", {\n        class: \"col-lg-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        class: \"form-control\",\n        type: \"number\",\n        placeholder: \"Item Price\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        class: \"col-lg-3 control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"Cuisine\"), React.createElement(\"div\", {\n        class: \"col-lg-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        class: \"form-control\",\n        type: \"text\",\n        placeholder: \"Cuisine\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: this.state.imageLocation,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"file\",\n        name: \"myImage\",\n        onChange: e => this.onChange(e),\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        style: {\n          margin: '0 1rem'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"Done\")))))));\n    } else {\n      displaySection = React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"No sections found!!\");\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      color: \"light\",\n      light: true,\n      expand: \"md\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(NavbarBrand, {\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"GRUBHUB\"), React.createElement(NavbarToggler, {\n      onClick: this.toggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), React.createElement(Collapse, {\n      isOpen: this.state.isOpen,\n      navbar: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      className: \"ml-auto\",\n      navbar: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(UncontrolledDropdown, {\n      nav: true,\n      inNavbar: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(DropdownToggle, {\n      nav: true,\n      caret: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Hi,\", this.props.first), React.createElement(DropdownMenu, {\n      right: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(DropdownItem, {\n      href: \"/order\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \"PastOrders\"), React.createElement(DropdownItem, {\n      href: \"/profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"Account\"), React.createElement(DropdownItem, {\n      divider: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }), React.createElement(DropdownItem, {\n      href: \"/logout\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"Logout\")))))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      pills: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(NavItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      href: \"/addS\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"UPDATE SECTION \")), React.createElement(NavItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      href: \"/delS\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"DELETE SECTION \")), React.createElement(NavItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      active: true,\n      href: \"/addI\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"ADD ITEM\")), React.createElement(NavItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      href: \"/dItems\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, \"MENU\")))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, this.state.message), displaySection));\n  }\n\n}\n\nfunction mapStateToProps(store) {\n  return {\n    output: store.section.output,\n    message: store.section.message,\n    sections: store.section.sections\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    addItem: data => dispatch(addItem(data)),\n    getAll: data => dispatch(getAll(data))\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddMenu);","map":{"version":3,"sources":["/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/src/Menu/AddItem.js"],"names":["React","Component","cookie","Redirect","Collapse","Navbar","NavbarToggler","NavbarBrand","Nav","UncontrolledCollapse","Button","UncontrolledDropdown","DropdownToggle","DropdownMenu","DropdownItem","NavItem","NavLink","connect","addItem","getAll","axios","AddMenu","constructor","props","state","redirectVar","collapse","message","imageLocation","selectedFile","formSumbit","bind","toggle","e","index","console","log","setState","componentDidMount","renderMyData","onChange","target","files","preventDefault","data","FormData","value","append","localStorage","getItem","output","alert","reset","sections","id","email","name","render","displaySection","undefined","map","element","section_name","_id","marginBottom","margin","isOpen","first","mapStateToProps","store","section","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport '../App.css'\r\nimport cookie from 'react-cookies';\r\nimport { Redirect } from 'react-router';\r\nimport {\r\n  Collapse, Navbar, NavbarToggler, NavbarBrand,\r\n  Nav, UncontrolledCollapse, Button,\r\n  UncontrolledDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem, NavItem, NavLink\r\n} from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { addItem,getAll } from '../Redux/actions/sectionAction';\r\nimport axios from 'axios';\r\n\r\n//Define a Login Component\r\nclass AddMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      redirectVar: \"\",\r\n      collapse: \"\",\r\n      message: \"\",\r\n      imageLocation:\"\",\r\n      selectedFile:\"\"\r\n    }\r\n    this.formSumbit = this.formSumbit.bind(this);\r\n  }\r\n\r\n  toggle(e, index) {\r\n    console.log(index);\r\n    this.setState({ collapse: this.state.collapse === index ? null : index });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.state.collapse = \"\";\r\n    this.renderMyData();\r\n  }\r\n\r\n  onChange(e) {\r\n    console.log(e.target.files[0]);\r\n    this.setState({selectedFile:e.target.files[0]});\r\n  }\r\n\r\n  formSumbit(e, index) {\r\n    e.preventDefault();\r\n    let data = new FormData();\r\n    console.log(\"0 idnex\",e.target[0].value);\r\n    console.log(\"target\",e.target);\r\n    console.log(\"selectedFile and index\",this.state.selectedFile, index);\r\n    data.append('file', this.state.selectedFile);\r\n    data.append('name', e.target[0].value);\r\n    data.append('description', e.target[1].value);\r\n    data.append('price', e.target[2].value);\r\n    data.append('restaurant_name',localStorage.getItem('restaurant_name'));\r\n    data.append('email',localStorage.getItem('email'));\r\n    data.append('section_id', index);\r\n    data.append('cuisine', e.target[3].value);\r\n    this.props.addItem(data);\r\n    if(this.props.output){\r\n      alert(\"Item Added successfully!!\");\r\n    }\r\n      e.target.reset();\r\n  }\r\n  \r\nasync renderMyData() {\r\n    this.state.sections = []\r\n    console.log(\"render data\");\r\n      let data = { \r\n        id:localStorage.getItem('_id'),\r\n        email:localStorage.getItem('email'),\r\n        name:localStorage.getItem('restaurant_name')\r\n       }\r\n      this.props.getAll(data);\r\n      console.log(\"sections\", this.props.sections);\r\n  }\r\n\r\n\r\n  render() {\r\n    if (localStorage.getItem(\"token\")==null && localStorage.getItem(\"type\")!=\"owner\") {\r\n      return (<Redirect to=\"/\" />)\r\n    }\r\n    let displaySection = \"\"\r\n    if (this.props.sections !== undefined) {\r\n      displaySection = this.props.sections.map((element, index) => (\r\n        <div>\r\n          <br />\r\n          <div class=\"alert alert-info alert-dismissable\">\r\n            <p>{element.section_name}</p>\r\n            <Button id={element._id} outline color=\"info\" onClick={(e) => this.toggle(e, element._id)} style={{ marginBottom: '1rem' }}>\r\n              New Item\r\n            </Button>\r\n            <Collapse isOpen={this.state.collapse == element._id}>\r\n\r\n              <form class=\"form-horizontal\" role=\"form\" onSubmit={(e) => this.formSumbit(e, element._id)}>\r\n                <div class=\"form-group\">\r\n                  <label class=\"col-lg-3 control-label\">Name</label>\r\n                  <div class=\"col-lg-8\">\r\n                    <input class=\"form-control\" type=\"text\" placeholder=\"Item Name\" required />\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"form-group\" >\r\n                  <label class=\"col-lg-3 control-label\">Description</label>\r\n                  <div class=\"col-lg-8\">\r\n                    <input class=\"form-control\" type=\"text\" placeholder=\"Item Description\" required />\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"form-group\" >\r\n                  <label class=\"col-lg-3 control-label\">Price</label>\r\n                  <div class=\"col-lg-8\">\r\n                    <input class=\"form-control\" type=\"number\" placeholder=\"Item Price\" required />\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"form-group\" >\r\n                  <label class=\"col-lg-3 control-label\">Cuisine</label>\r\n                  <div class=\"col-lg-8\">\r\n                    <input class=\"form-control\"  type=\"text\" placeholder=\"Cuisine\" required />\r\n                  </div>\r\n                </div> \r\n\r\n                <div>\r\n                <img src={this.state.imageLocation}></img>\r\n                <input type=\"file\" name=\"myImage\" onChange= {(e) => this.onChange(e)} required/>\r\n                </div>\r\n\r\n                <span>\r\n                  <button style={{ margin: '0 1rem' }}>Done</button>\r\n                </span>\r\n              </form>\r\n            </Collapse>\r\n          </div>\r\n        </div>\r\n      ));\r\n    } else {\r\n      displaySection = <h4>No sections found!!</h4>\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <Navbar color=\"light\" light expand=\"md\">\r\n          <NavbarBrand href=\"/\">GRUBHUB</NavbarBrand>\r\n          <NavbarToggler onClick={this.toggle} />\r\n          <Collapse isOpen={this.state.isOpen} navbar>\r\n            <Nav className=\"ml-auto\" navbar>\r\n              <UncontrolledDropdown nav inNavbar>\r\n                <DropdownToggle nav caret>\r\n                  Hi,{this.props.first}\r\n                </DropdownToggle>\r\n                <DropdownMenu right>\r\n                  <DropdownItem href=\"/order\">\r\n                    PastOrders\r\n                      </DropdownItem>\r\n                  <DropdownItem href=\"/profile\">\r\n                    Account\r\n                      </DropdownItem>\r\n                  <DropdownItem divider />\r\n                  <DropdownItem href=\"/logout\">\r\n                    Logout\r\n                      </DropdownItem>\r\n                </DropdownMenu>\r\n              </UncontrolledDropdown>\r\n            </Nav>\r\n          </Collapse>\r\n        </Navbar>\r\n        <div>\r\n          <Nav pills>\r\n            <NavItem>\r\n              <NavLink href=\"/addS\">UPDATE SECTION </NavLink>\r\n            </NavItem>\r\n            <NavItem>\r\n              <NavLink  href=\"/delS\">DELETE SECTION </NavLink>\r\n            </NavItem>\r\n            <NavItem>\r\n              <NavLink active href=\"/addI\">ADD ITEM</NavLink>\r\n            </NavItem>\r\n            <NavItem>\r\n              <NavLink  href=\"/dItems\">MENU</NavLink>\r\n            </NavItem>\r\n          </Nav>\r\n        </div>\r\n\r\n        <div>\r\n          <p>{this.state.message}</p>\r\n          {displaySection}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(store) {\r\n  return {\r\n    output: store.section.output,\r\n    message: store.section.message,\r\n    sections: store.section.sections\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    addItem: (data) => dispatch(addItem(data)),\r\n    getAll: (data) => dispatch(getAll(data))\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddMenu)"]},"metadata":{},"sourceType":"module"}