{"ast":null,"code":"var _jsxFileName = \"/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/src/Profile/Search.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport './search.css';\nimport { Nav, NavItem, NavLink } from 'reactstrap';\nimport { connect } from 'react-redux';\nimport { selectRestuarantByCuisine, selectRestuarantByItems } from '../Redux/actions/restaurantActions';\nlet cuisineSet = new Set();\n\nclass Search extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleFilter = (row, index, event) => {\n      let body = {\n        'text': this.state.searchText,\n        'cuisine': row\n      };\n      this.props.selectRestuarantByCuisine(body);\n    };\n\n    console.log(props.location);\n    this.state = {\n      currentPage: 1,\n      todosPerPage: 5,\n      searchText: props.location.state.searchText,\n      result: [],\n      cuisineItem: \"\",\n      renderPageNumbers: \"\"\n    };\n    this.handleFilter = this.handleFilter.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  componentDidMount() {\n    this.renderMyData();\n  }\n\n  renderMyData() {\n    let data = {\n      'text': this.state.searchText\n    };\n    console.log(data);\n    this.props.selectRestuarantByItems(data);\n  }\n\n  handleClick(event) {\n    this.setState({\n      currentPage: Number(event.target.id)\n    });\n  }\n\n  renderTableData() {\n    if (this.props.res != undefined && this.props.res.length > 0) {\n      console.log(\"dnskdn\", this.props.res);\n      cuisineSet.clear();\n      let arr = [];\n      let cue = this.props.res.map(restaurant => {\n        restaurant.sections.map((row, index) => {\n          row.items.map(item => {\n            if (!cuisineSet.has(item.cuisine)) {\n              cuisineSet.add(item.cuisine);\n              console.log(item.cuisine);\n              arr.push(item.cuisine);\n            }\n          });\n        });\n      });\n      return arr.map((item, index) => {\n        return React.createElement(NavItem, {\n          key: index,\n          onClick: this.handleFilter.bind(this, item),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, item, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }));\n      });\n    }\n  }\n\n  render() {\n    let cart = \"\";\n    console.log(\"search functionality\");\n\n    if (this.props.res != undefined) {\n      let foodItems = this.props.res;\n      console.log(\"foodItems\");\n      const _this$state = this.state,\n            currentPage = _this$state.currentPage,\n            todosPerPage = _this$state.todosPerPage; // Logic for displaying todos\n\n      const indexOfLastTodo = currentPage * todosPerPage;\n      const indexOfFirstTodo = indexOfLastTodo - todosPerPage;\n      const currentTodos = foodItems.slice(indexOfFirstTodo, indexOfLastTodo);\n      this.state.result = currentTodos; // Logic for displaying page numbers\n\n      const pageNumbers = [];\n\n      for (let i = 1; i <= Math.ceil(foodItems.length / todosPerPage); i++) {\n        pageNumbers.push(i);\n      }\n\n      console.log(\"pageNumbers\", pageNumbers);\n      this.state.renderPageNumbers = pageNumbers.map(number => {\n        return React.createElement(\"li\", {\n          class: \"page\",\n          className: this.state.currentPage == number ? \"page active\" : \"page\",\n          key: number,\n          id: number,\n          onClick: this.handleClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, \"-\", number);\n      });\n      cart = React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"leftbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        id: \"filter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Filter\"), React.createElement(\"table\", {\n        id: \"cuisine\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(Nav, {\n        vertical: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, this.renderTableData()))), React.createElement(\"div\", {\n        id: \"middlebox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, this.props.res.length, \" Restaurants Found!! \", React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, currentTodos.map(res => React.createElement(\"li\", {\n        key: res.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: {\n          pathname: '/cart',\n          state: {\n            res: res\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, res.name), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }), React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"Served here!!\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        class: \"pagination\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, this.state.renderPageNumbers))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      })));\n    } else {\n      cart = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"No Restaurants Found!!!\");\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"/\",\n      class: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"GRUBHUB\"), React.createElement(\"a\", {\n      style: {\n        position: 'absolute',\n        right: 0\n      },\n      href: \"/home\",\n      class: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"BACK\"), React.createElement(\"div\", {\n      class: \"header-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    })), cart);\n  }\n\n}\n\nfunction mapStateToProps(store) {\n  return {\n    output: store.res.output,\n    message: store.res.message,\n    res: store.res.res\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    selectRestuarantByItems: data => dispatch(selectRestuarantByItems(data)),\n    selectRestuarantByCuisine: data => dispatch(selectRestuarantByCuisine(data))\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);","map":{"version":3,"sources":["/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/src/Profile/Search.js"],"names":["React","Component","axios","Link","Nav","NavItem","NavLink","connect","selectRestuarantByCuisine","selectRestuarantByItems","cuisineSet","Set","Search","constructor","props","handleFilter","row","index","event","body","state","searchText","console","log","location","currentPage","todosPerPage","result","cuisineItem","renderPageNumbers","bind","handleClick","componentDidMount","renderMyData","data","setState","Number","target","id","renderTableData","res","undefined","length","clear","arr","cue","map","restaurant","sections","items","item","has","cuisine","add","push","render","cart","foodItems","indexOfLastTodo","indexOfFirstTodo","currentTodos","slice","pageNumbers","i","Math","ceil","number","pathname","name","position","right","mapStateToProps","store","output","message","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport {Link} from 'react-router-dom';\r\nimport './search.css';\r\nimport { Nav, NavItem, NavLink } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { selectRestuarantByCuisine,selectRestuarantByItems } from '../Redux/actions/restaurantActions';\r\n\r\nlet cuisineSet = new Set();\r\nclass Search extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(props.location);\r\n    this.state = {\r\n      currentPage: 1,\r\n      todosPerPage: 5,\r\n      searchText : props.location.state.searchText,\r\n      result: [],\r\n      cuisineItem:\"\",\r\n      renderPageNumbers: \"\",\r\n    };\r\n    this.handleFilter = this.handleFilter.bind(this);\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n\r\n  handleFilter= (row,index,event) => {\r\n    let body = {\r\n      'text' : this.state.searchText,\r\n      'cuisine' : row\r\n    }\r\n  this.props.selectRestuarantByCuisine(body);\r\n }\r\n\r\n  componentDidMount(){\r\n    this.renderMyData();\r\n  }\r\n\r\n renderMyData() {\r\n    let data = {\r\n      'text' : this.state.searchText\r\n    }\r\n   console.log(data);\r\n   this.props.selectRestuarantByItems(data); \r\n  }\r\n\r\n  handleClick(event) {\r\n    this.setState({\r\n        currentPage: Number(event.target.id)\r\n    });\r\n  }\r\n\r\n  renderTableData() {\r\n    if(this.props.res!=undefined && this.props.res.length>0){\r\n    console.log(\"dnskdn\",this.props.res);\r\n    cuisineSet.clear();\r\n    let arr=[];\r\n    let cue = this.props.res.map(restaurant=>{\r\n     restaurant.sections.map((row, index) => {\r\n      row.items.map(item=>{\r\n        if(!cuisineSet.has(item.cuisine)){\r\n        cuisineSet.add(item.cuisine)\r\n        console.log(item.cuisine)\r\n        arr.push(item.cuisine)\r\n      }});\r\n    });\r\n  });\r\n\r\n    return arr.map((item,index)=>\r\n      {return (\r\n      <NavItem key={index}\r\n       onClick={this.handleFilter.bind(this,item)}>\r\n       {item}\r\n       <br/>\r\n    </NavItem>\r\n    )\r\n      });\r\n    }\r\n}\r\n\r\n  render() {\r\n    let cart=\"\";\r\n    console.log(\"search functionality\");\r\n    if(this.props.res!= undefined){ \r\n      let foodItems=this.props.res;\r\n      console.log(\"foodItems\");\r\n      const { currentPage, todosPerPage } = this.state;\r\n\r\n      // Logic for displaying todos\r\n      const indexOfLastTodo = currentPage * todosPerPage;\r\n      const indexOfFirstTodo = indexOfLastTodo - todosPerPage;\r\n      const currentTodos = foodItems.slice(indexOfFirstTodo, indexOfLastTodo);\r\n      this.state.result=currentTodos;\r\n      // Logic for displaying page numbers\r\n      const pageNumbers = [];\r\n      for (let i = 1; i <= Math.ceil(foodItems.length / todosPerPage); i++) {\r\n          pageNumbers.push(i);\r\n      }\r\n\r\n      console.log(\"pageNumbers\",pageNumbers);\r\n      this.state.renderPageNumbers = pageNumbers.map(number => {\r\n          return (\r\n\r\n              <li class=\"page\"\r\n              className={ this.state.currentPage==number ? \"page active\" : \"page\" }\r\n                  key={number}\r\n                  id={number}\r\n                  onClick={this.handleClick}\r\n              >\r\n                  -{number} \r\n              </li>  \r\n          );\r\n      });\r\n\r\n\r\n    cart =  <div className=\"container\">\r\n             <div className=\"row\">\r\n                    <div id = \"leftbox\">\r\n                    <h1 id='filter'>Filter</h1>\r\n                <table id='cuisine'>\r\n                <Nav vertical>\r\n                      {this.renderTableData()}\r\n                  </Nav>\r\n                </table>\r\n              </div>\r\n              <div id = \"middlebox\">\r\n                <div>{this.props.res.length} Restaurants Found!! <hr /></div>\r\n                <div>\r\n                    <ul >\r\n                        {currentTodos.map(res => (\r\n                            <li key={res.id}>\r\n                                <Link to={{ pathname: '/cart', state: {res:res}}}>{res.name}</Link>\r\n                                <br/>\r\n                                {/* <b>{res.name}</b>\r\n                                <br></br> */}\r\n                                <b>Served here!!</b>\r\n                                <br/><br/>\r\n                            </li>))\r\n                        }\r\n                    </ul>\r\n                    <div class=\"pagination\">\r\n                    {this.state.renderPageNumbers}\r\n                  </div>\r\n                </div>\r\n               \r\n                </div>\r\n                <div>\r\n                \r\n                </div>\r\n            </div>\r\n            </div>\r\n    }else{\r\n        cart= <div>No Restaurants Found!!!</div>\r\n    }\r\n        \r\n    \r\n    return (\r\n        <div>\r\n          <div class=\"header\">\r\n          <a href=\"/\" class=\"logo\">GRUBHUB</a>\r\n          <a style={{position: 'absolute', right: 0}} href=\"/home\" class=\"logo\">BACK</a>\r\n          <div class=\"header-right\">\r\n          </div>\r\n        </div>\r\n        {cart}\r\n    </div>\r\n     )\r\n}\r\n}\r\n\r\nfunction mapStateToProps(store) {\r\n  return {\r\n    output: store.res.output,\r\n    message: store.res.message,\r\n    res: store.res.res,\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    selectRestuarantByItems: (data) => dispatch(selectRestuarantByItems(data)),\r\n    selectRestuarantByCuisine: (data)=> dispatch(selectRestuarantByCuisine(data))\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);\r\n"]},"metadata":{},"sourceType":"module"}