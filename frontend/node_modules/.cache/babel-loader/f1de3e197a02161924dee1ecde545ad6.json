{"ast":null,"code":"import _classCallCheck from \"/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/src/Profile/Search.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport './search.css';\nimport { Nav, NavItem, NavLink } from 'reactstrap';\nimport { connect } from 'react-redux';\nimport { selectRestuarantByCuisine as _selectRestuarantByCuisine, selectRestuarantByItems as _selectRestuarantByItems } from '../Redux/actions/restaurantActions';\nvar cuisineSet = new Set();\n\nvar Search =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Search, _Component);\n\n  function Search(props) {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Search).call(this, props));\n\n    _this.handleFilter = function (row, index, event) {\n      var body = {\n        'text': _this.state.searchText,\n        'cuisine': row\n      };\n\n      _this.props.selectRestuarantByCuisine(body);\n    };\n\n    console.log(props.location);\n    _this.state = {\n      currentPage: 1,\n      todosPerPage: 5,\n      searchText: props.location.state.searchText,\n      result: [],\n      cuisineItem: \"\",\n      renderPageNumbers: \"\"\n    };\n    _this.handleFilter = _this.handleFilter.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.renderMyData();\n    }\n  }, {\n    key: \"renderMyData\",\n    value: function renderMyData() {\n      var data = {\n        'text': this.state.searchText\n      };\n      console.log(data);\n      this.props.selectRestuarantByItems(data);\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(event) {\n      this.setState({\n        currentPage: Number(event.target.id)\n      });\n    }\n  }, {\n    key: \"renderTableData\",\n    value: function renderTableData() {\n      var _this2 = this;\n\n      if (this.props.res != undefined && this.props.res.length > 0) {\n        console.log(\"dnskdn\", this.props.res);\n        cuisineSet.clear();\n        var arr = [];\n        var cue = this.props.res.map(function (restaurant) {\n          restaurant.sections.map(function (row, index) {\n            row.items.map(function (item) {\n              if (!cuisineSet.has(item.cuisine)) {\n                cuisineSet.add(item.cuisine);\n                console.log(item.cuisine);\n                arr.push(item.cuisine);\n              }\n            });\n          });\n        });\n        return arr.map(function (item, index) {\n          return React.createElement(NavItem, {\n            key: index,\n            onClick: _this2.handleFilter.bind(_this2, item),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 70\n            },\n            __self: this\n          }, item, React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 73\n            },\n            __self: this\n          }));\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var cart = \"\";\n      console.log(\"search functionality\");\n\n      if (this.props.res != undefined) {\n        var foodItems = this.props.res;\n        console.log(\"foodItems\");\n        var _this$state = this.state,\n            currentPage = _this$state.currentPage,\n            todosPerPage = _this$state.todosPerPage; // Logic for displaying todos\n\n        var indexOfLastTodo = currentPage * todosPerPage;\n        var indexOfFirstTodo = indexOfLastTodo - todosPerPage;\n        var currentTodos = foodItems.slice(indexOfFirstTodo, indexOfLastTodo);\n        this.state.result = currentTodos; // Logic for displaying page numbers\n\n        var pageNumbers = [];\n\n        for (var i = 1; i <= Math.ceil(foodItems.length / todosPerPage); i++) {\n          pageNumbers.push(i);\n        }\n\n        console.log(\"pageNumbers\", pageNumbers);\n        this.state.renderPageNumbers = pageNumbers.map(function (number) {\n          return React.createElement(\"li\", {\n            class: \"page\",\n            className: _this3.state.currentPage == number ? \"page active\" : \"page\",\n            key: number,\n            id: number,\n            onClick: _this3.handleClick,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 103\n            },\n            __self: this\n          }, \"-\", number);\n        });\n        cart = React.createElement(\"div\", {\n          className: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          id: \"leftbox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          id: \"filter\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, \"Filter\"), React.createElement(\"table\", {\n          id: \"cuisine\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, React.createElement(Nav, {\n          vertical: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, this.renderTableData()))), React.createElement(\"div\", {\n          id: \"middlebox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, this.props.res.length, \" Restaurants Found!! \", React.createElement(\"hr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128\n          },\n          __self: this\n        }, currentTodos.map(function (res) {\n          return React.createElement(\"li\", {\n            key: res.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 130\n            },\n            __self: this\n          }, React.createElement(Link, {\n            to: {\n              pathname: '/cart',\n              state: {\n                res: res\n              }\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131\n            },\n            __self: this\n          }, res.name), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 132\n            },\n            __self: this\n          }), React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 135\n            },\n            __self: this\n          }, \"Served here!!\"), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 136\n            },\n            __self: this\n          }), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 136\n            },\n            __self: this\n          }));\n        })), React.createElement(\"div\", {\n          class: \"pagination\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, this.state.renderPageNumbers))), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        })));\n      } else {\n        cart = React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, \"No Restaurants Found!!!\");\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"/\",\n        class: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, \"GRUBHUB\"), React.createElement(\"a\", {\n        style: {\n          position: 'absolute',\n          right: 0\n        },\n        href: \"/home\",\n        class: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \"BACK\"), React.createElement(\"div\", {\n        class: \"header-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      })), cart);\n    }\n  }]);\n\n  return Search;\n}(Component);\n\nfunction mapStateToProps(store) {\n  return {\n    output: store.res.output,\n    message: store.res.message,\n    res: store.res.res\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    selectRestuarantByItems: function selectRestuarantByItems(data) {\n      return dispatch(_selectRestuarantByItems(data));\n    },\n    selectRestuarantByCuisine: function selectRestuarantByCuisine(data) {\n      return dispatch(_selectRestuarantByCuisine(data));\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);","map":{"version":3,"sources":["/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/src/Profile/Search.js"],"names":["React","Component","axios","Link","Nav","NavItem","NavLink","connect","selectRestuarantByCuisine","selectRestuarantByItems","cuisineSet","Set","Search","props","handleFilter","row","index","event","body","state","searchText","console","log","location","currentPage","todosPerPage","result","cuisineItem","renderPageNumbers","bind","handleClick","renderMyData","data","setState","Number","target","id","res","undefined","length","clear","arr","cue","map","restaurant","sections","items","item","has","cuisine","add","push","cart","foodItems","indexOfLastTodo","indexOfFirstTodo","currentTodos","slice","pageNumbers","i","Math","ceil","number","renderTableData","pathname","name","position","right","mapStateToProps","store","output","message","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport {Link} from 'react-router-dom';\r\nimport './search.css';\r\nimport { Nav, NavItem, NavLink } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { selectRestuarantByCuisine,selectRestuarantByItems } from '../Redux/actions/restaurantActions';\r\n\r\nlet cuisineSet = new Set();\r\nclass Search extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(props.location);\r\n    this.state = {\r\n      currentPage: 1,\r\n      todosPerPage: 5,\r\n      searchText : props.location.state.searchText,\r\n      result: [],\r\n      cuisineItem:\"\",\r\n      renderPageNumbers: \"\",\r\n    };\r\n    this.handleFilter = this.handleFilter.bind(this);\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n\r\n  handleFilter= (row,index,event) => {\r\n    let body = {\r\n      'text' : this.state.searchText,\r\n      'cuisine' : row\r\n    }\r\n  this.props.selectRestuarantByCuisine(body);\r\n }\r\n\r\n  componentDidMount(){\r\n    this.renderMyData();\r\n  }\r\n\r\n renderMyData() {\r\n    let data = {\r\n      'text' : this.state.searchText\r\n    }\r\n   console.log(data);\r\n   this.props.selectRestuarantByItems(data); \r\n  }\r\n\r\n  handleClick(event) {\r\n    this.setState({\r\n        currentPage: Number(event.target.id)\r\n    });\r\n  }\r\n\r\n  renderTableData() {\r\n    if(this.props.res!=undefined && this.props.res.length>0){\r\n    console.log(\"dnskdn\",this.props.res);\r\n    cuisineSet.clear();\r\n    let arr=[];\r\n    let cue = this.props.res.map(restaurant=>{\r\n     restaurant.sections.map((row, index) => {\r\n      row.items.map(item=>{\r\n        if(!cuisineSet.has(item.cuisine)){\r\n        cuisineSet.add(item.cuisine)\r\n        console.log(item.cuisine)\r\n        arr.push(item.cuisine)\r\n      }});\r\n    });\r\n  });\r\n\r\n    return arr.map((item,index)=>\r\n      {return (\r\n      <NavItem key={index}\r\n       onClick={this.handleFilter.bind(this,item)}>\r\n       {item}\r\n       <br/>\r\n    </NavItem>\r\n    )\r\n      });\r\n    }\r\n}\r\n\r\n  render() {\r\n    let cart=\"\";\r\n    console.log(\"search functionality\");\r\n    if(this.props.res!= undefined){ \r\n      let foodItems=this.props.res;\r\n      console.log(\"foodItems\");\r\n      const { currentPage, todosPerPage } = this.state;\r\n\r\n      // Logic for displaying todos\r\n      const indexOfLastTodo = currentPage * todosPerPage;\r\n      const indexOfFirstTodo = indexOfLastTodo - todosPerPage;\r\n      const currentTodos = foodItems.slice(indexOfFirstTodo, indexOfLastTodo);\r\n      this.state.result=currentTodos;\r\n      // Logic for displaying page numbers\r\n      const pageNumbers = [];\r\n      for (let i = 1; i <= Math.ceil(foodItems.length / todosPerPage); i++) {\r\n          pageNumbers.push(i);\r\n      }\r\n\r\n      console.log(\"pageNumbers\",pageNumbers);\r\n      this.state.renderPageNumbers = pageNumbers.map(number => {\r\n          return (\r\n\r\n              <li class=\"page\"\r\n              className={ this.state.currentPage==number ? \"page active\" : \"page\" }\r\n                  key={number}\r\n                  id={number}\r\n                  onClick={this.handleClick}\r\n              >\r\n                  -{number} \r\n              </li>  \r\n          );\r\n      });\r\n\r\n\r\n    cart =  <div className=\"container\">\r\n             <div className=\"row\">\r\n                    <div id = \"leftbox\">\r\n                    <h1 id='filter'>Filter</h1>\r\n                <table id='cuisine'>\r\n                <Nav vertical>\r\n                      {this.renderTableData()}\r\n                  </Nav>\r\n                </table>\r\n              </div>\r\n              <div id = \"middlebox\">\r\n                <div>{this.props.res.length} Restaurants Found!! <hr /></div>\r\n                <div>\r\n                    <ul >\r\n                        {currentTodos.map(res => (\r\n                            <li key={res.id}>\r\n                                <Link to={{ pathname: '/cart', state: {res:res}}}>{res.name}</Link>\r\n                                <br/>\r\n                                {/* <b>{res.name}</b>\r\n                                <br></br> */}\r\n                                <b>Served here!!</b>\r\n                                <br/><br/>\r\n                            </li>))\r\n                        }\r\n                    </ul>\r\n                    <div class=\"pagination\">\r\n                    {this.state.renderPageNumbers}\r\n                  </div>\r\n                </div>\r\n               \r\n                </div>\r\n                <div>\r\n                \r\n                </div>\r\n            </div>\r\n            </div>\r\n    }else{\r\n        cart= <div>No Restaurants Found!!!</div>\r\n    }\r\n        \r\n    \r\n    return (\r\n        <div>\r\n          <div class=\"header\">\r\n          <a href=\"/\" class=\"logo\">GRUBHUB</a>\r\n          <a style={{position: 'absolute', right: 0}} href=\"/home\" class=\"logo\">BACK</a>\r\n          <div class=\"header-right\">\r\n          </div>\r\n        </div>\r\n        {cart}\r\n    </div>\r\n     )\r\n}\r\n}\r\n\r\nfunction mapStateToProps(store) {\r\n  return {\r\n    output: store.res.output,\r\n    message: store.res.message,\r\n    res: store.res.res,\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    selectRestuarantByItems: (data) => dispatch(selectRestuarantByItems(data)),\r\n    selectRestuarantByCuisine: (data)=> dispatch(selectRestuarantByCuisine(data))\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);\r\n"]},"metadata":{},"sourceType":"module"}