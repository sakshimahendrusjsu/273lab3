{"ast":null,"code":"import _regeneratorRuntime from \"/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/src/Menu/AddItem.js\";\nimport React, { Component } from 'react';\nimport '../App.css';\nimport cookie from 'react-cookies';\nimport { Redirect } from 'react-router';\nimport { Collapse, Navbar, NavbarToggler, NavbarBrand, Nav, UncontrolledCollapse, Button, UncontrolledDropdown, DropdownToggle, DropdownMenu, DropdownItem, NavItem, NavLink } from 'reactstrap';\nimport { connect } from 'react-redux';\nimport { addItem, getAll } from '../Redux/actions/sectionAction';\nimport axios from 'axios';\nimport { addItemToSection } from \"../mutation/mutations\";\nimport { withApollo } from \"react-apollo\";\nimport { graphql, compose } from \"react-apollo\"; //Define a Login Component\n\nvar AddMenu =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddMenu, _Component);\n\n  function AddMenu(props) {\n    var _this;\n\n    _classCallCheck(this, AddMenu);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddMenu).call(this, props));\n    _this.state = {\n      redirectVar: \"\",\n      collapse: \"\",\n      message: \"\",\n      imageLocation: \"\",\n      selectedFile: \"\"\n    };\n    _this.formSumbit = _this.formSumbit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(AddMenu, [{\n    key: \"toggle\",\n    value: function toggle(e, index) {\n      console.log(index);\n      this.setState({\n        collapse: this.state.collapse === index ? null : index\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.state.collapse = \"\";\n      this.renderMyData();\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(e) {\n      console.log(e.target.files[0]);\n      this.setState({\n        selectedFile: e.target.files[0]\n      });\n    } // args: {\n    //   email: { type: GraphQLString },\n    //   restaurant_name: { type: GraphQLString },\n    //   section_id:{type:GraphQLString},\n    //   name:{ type: GraphQLString },\n    //   description:{ type: GraphQLString },\n    //   price:{ type: GraphQLString },\n    //   cuisine:{ type: GraphQLString },\n    // },\n\n  }, {\n    key: \"formSumbit\",\n    value: function formSumbit(e, index) {\n      e.preventDefault();\n      this.props.addItemToSection({\n        variables: {\n          name: e.target[0].value,\n          description: e.target[1].value,\n          price: e.target[2].value,\n          cuisine: e.target[3].value,\n          restaurant_name: localStorage.getItem('restaurant_name'),\n          email: localStorage.getItem('email'),\n          section_id: index\n        }\n      }).then(function (res) {\n        console.log(\"new owner \" + JSON.stringify(res));\n      });\n\n      if (this.props.message) {\n        alert(\"Item Added successfully!!\");\n      }\n\n      e.target.reset();\n    }\n  }, {\n    key: \"renderMyData\",\n    value: function () {\n      var _renderMyData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.state.sections = [];\n                console.log(\"render data\");\n                data = {\n                  id: localStorage.getItem('_id'),\n                  email: localStorage.getItem('email'),\n                  name: localStorage.getItem('restaurant_name')\n                };\n                this.props.getAll(data);\n                console.log(\"sections\", this.props.sections);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function renderMyData() {\n        return _renderMyData.apply(this, arguments);\n      }\n\n      return renderMyData;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (localStorage.getItem(\"token\") == null && localStorage.getItem(\"type\") != \"owner\") {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        });\n      }\n\n      var displaySection = \"\";\n\n      if (this.props.sections !== undefined) {\n        displaySection = this.props.sections.map(function (element, index) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 99\n            },\n            __self: this\n          }, React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            class: \"alert alert-info alert-dismissable\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 101\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102\n            },\n            __self: this\n          }, element.section_name), React.createElement(Button, {\n            id: element._id,\n            outline: true,\n            color: \"info\",\n            onClick: function onClick(e) {\n              return _this2.toggle(e, element._id);\n            },\n            style: {\n              marginBottom: '1rem'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 103\n            },\n            __self: this\n          }, \"New Item\"), React.createElement(Collapse, {\n            isOpen: _this2.state.collapse == element._id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 106\n            },\n            __self: this\n          }, React.createElement(\"form\", {\n            class: \"form-horizontal\",\n            role: \"form\",\n            onSubmit: function onSubmit(e) {\n              return _this2.formSumbit(e, element._id);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 108\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            class: \"form-group\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 109\n            },\n            __self: this\n          }, React.createElement(\"label\", {\n            class: \"col-lg-3 control-label\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 110\n            },\n            __self: this\n          }, \"Name\"), React.createElement(\"div\", {\n            class: \"col-lg-8\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111\n            },\n            __self: this\n          }, React.createElement(\"input\", {\n            class: \"form-control\",\n            type: \"text\",\n            placeholder: \"Item Name\",\n            required: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112\n            },\n            __self: this\n          }))), React.createElement(\"div\", {\n            class: \"form-group\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 116\n            },\n            __self: this\n          }, React.createElement(\"label\", {\n            class: \"col-lg-3 control-label\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 117\n            },\n            __self: this\n          }, \"Description\"), React.createElement(\"div\", {\n            class: \"col-lg-8\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 118\n            },\n            __self: this\n          }, React.createElement(\"input\", {\n            class: \"form-control\",\n            type: \"text\",\n            placeholder: \"Item Description\",\n            required: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 119\n            },\n            __self: this\n          }))), React.createElement(\"div\", {\n            class: \"form-group\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 123\n            },\n            __self: this\n          }, React.createElement(\"label\", {\n            class: \"col-lg-3 control-label\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 124\n            },\n            __self: this\n          }, \"Price\"), React.createElement(\"div\", {\n            class: \"col-lg-8\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 125\n            },\n            __self: this\n          }, React.createElement(\"input\", {\n            class: \"form-control\",\n            type: \"number\",\n            placeholder: \"Item Price\",\n            required: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 126\n            },\n            __self: this\n          }))), React.createElement(\"div\", {\n            class: \"form-group\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 130\n            },\n            __self: this\n          }, React.createElement(\"label\", {\n            class: \"col-lg-3 control-label\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131\n            },\n            __self: this\n          }, \"Cuisine\"), React.createElement(\"div\", {\n            class: \"col-lg-8\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 132\n            },\n            __self: this\n          }, React.createElement(\"input\", {\n            class: \"form-control\",\n            type: \"text\",\n            placeholder: \"Cuisine\",\n            required: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 133\n            },\n            __self: this\n          }))), React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 137\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: _this2.state.imageLocation,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 138\n            },\n            __self: this\n          }), React.createElement(\"input\", {\n            type: \"file\",\n            name: \"myImage\",\n            onChange: function onChange(e) {\n              return _this2.onChange(e);\n            },\n            required: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 139\n            },\n            __self: this\n          })), React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 142\n            },\n            __self: this\n          }, React.createElement(\"button\", {\n            style: {\n              margin: '0 1rem'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 143\n            },\n            __self: this\n          }, \"Done\"))))));\n        });\n      } else {\n        displaySection = React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, \"No sections found!!\");\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(Navbar, {\n        color: \"light\",\n        light: true,\n        expand: \"md\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(NavbarBrand, {\n        href: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"GRUBHUB\"), React.createElement(NavbarToggler, {\n        onClick: this.toggle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }), React.createElement(Collapse, {\n        isOpen: this.state.isOpen,\n        navbar: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(Nav, {\n        className: \"ml-auto\",\n        navbar: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(UncontrolledDropdown, {\n        nav: true,\n        inNavbar: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(DropdownToggle, {\n        nav: true,\n        caret: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, \"Hi,\", this.props.first), React.createElement(DropdownMenu, {\n        right: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(DropdownItem, {\n        href: \"/order\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \"PastOrders\"), React.createElement(DropdownItem, {\n        href: \"/profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \"Account\"), React.createElement(DropdownItem, {\n        divider: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }), React.createElement(DropdownItem, {\n        href: \"/logout\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"Logout\")))))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(Nav, {\n        pills: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(NavItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        href: \"/addS\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \"UPDATE SECTION \")), React.createElement(NavItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        href: \"/delS\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \"DELETE SECTION \")), React.createElement(NavItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        active: true,\n        href: \"/addI\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, \"ADD ITEM\")), React.createElement(NavItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        href: \"/dItems\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, \"MENU\")))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, this.state.message), displaySection));\n    }\n  }]);\n\n  return AddMenu;\n}(Component);\n\nexport default compose(graphql(newUserMutation, {\n  name: \"newUserMutation\"\n}))(addItem);","map":{"version":3,"sources":["/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/src/Menu/AddItem.js"],"names":["React","Component","cookie","Redirect","Collapse","Navbar","NavbarToggler","NavbarBrand","Nav","UncontrolledCollapse","Button","UncontrolledDropdown","DropdownToggle","DropdownMenu","DropdownItem","NavItem","NavLink","connect","addItem","getAll","axios","addItemToSection","withApollo","graphql","compose","AddMenu","props","state","redirectVar","collapse","message","imageLocation","selectedFile","formSumbit","bind","e","index","console","log","setState","renderMyData","target","files","preventDefault","variables","name","value","description","price","cuisine","restaurant_name","localStorage","getItem","email","section_id","then","res","JSON","stringify","alert","reset","sections","data","id","displaySection","undefined","map","element","section_name","_id","toggle","marginBottom","onChange","margin","isOpen","first","newUserMutation"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport '../App.css'\r\nimport cookie from 'react-cookies';\r\nimport { Redirect } from 'react-router';\r\nimport {\r\n  Collapse, Navbar, NavbarToggler, NavbarBrand,\r\n  Nav, UncontrolledCollapse, Button,\r\n  UncontrolledDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem, NavItem, NavLink\r\n} from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { addItem,getAll } from '../Redux/actions/sectionAction';\r\nimport axios from 'axios';\r\nimport { addItemToSection } from \"../mutation/mutations\";\r\nimport { withApollo } from \"react-apollo\";\r\nimport { graphql,compose } from \"react-apollo\";\r\n//Define a Login Component\r\nclass AddMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      redirectVar: \"\",\r\n      collapse: \"\",\r\n      message: \"\",\r\n      imageLocation:\"\",\r\n      selectedFile:\"\"\r\n    }\r\n    this.formSumbit = this.formSumbit.bind(this);\r\n  }\r\n\r\n  toggle(e, index) {\r\n    console.log(index);\r\n    this.setState({ collapse: this.state.collapse === index ? null : index });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.state.collapse = \"\";\r\n    this.renderMyData();\r\n  }\r\n\r\n  onChange(e) {\r\n    console.log(e.target.files[0]);\r\n    this.setState({selectedFile:e.target.files[0]});\r\n  }\r\n\r\n  // args: {\r\n  //   email: { type: GraphQLString },\r\n  //   restaurant_name: { type: GraphQLString },\r\n  //   section_id:{type:GraphQLString},\r\n  //   name:{ type: GraphQLString },\r\n  //   description:{ type: GraphQLString },\r\n  //   price:{ type: GraphQLString },\r\n  //   cuisine:{ type: GraphQLString },\r\n  // },\r\n  formSumbit(e, index) {\r\n    e.preventDefault();\r\n    this.props\r\n    .addItemToSection({\r\n      variables: {\r\n        name: (e.target[0].value),\r\n        description: (e.target[1].value),\r\n        price: (e.target[2].value),\r\n        cuisine: (e.target[3].value),\r\n        restaurant_name: localStorage.getItem('restaurant_name'),\r\n        email:localStorage.getItem('email'),\r\n        section_id:index\r\n      }\r\n    }).then(res => {\r\n      console.log(\"new owner \" + JSON.stringify(res));\r\n    });\r\n    if(this.props.message){\r\n      alert(\"Item Added successfully!!\");\r\n    }\r\n      e.target.reset();\r\n  }\r\n  \r\nasync renderMyData() {\r\n    this.state.sections = []\r\n    console.log(\"render data\");\r\n      let data = { \r\n        id:localStorage.getItem('_id'),\r\n        email:localStorage.getItem('email'),\r\n        name:localStorage.getItem('restaurant_name')\r\n       }\r\n      this.props.getAll(data);\r\n      console.log(\"sections\", this.props.sections);\r\n  }\r\n\r\n\r\n  render() {\r\n    if (localStorage.getItem(\"token\")==null && localStorage.getItem(\"type\")!=\"owner\") {\r\n      return (<Redirect to=\"/\" />)\r\n    }\r\n    let displaySection = \"\"\r\n    if (this.props.sections !== undefined) {\r\n      displaySection = this.props.sections.map((element, index) => (\r\n        <div>\r\n          <br />\r\n          <div class=\"alert alert-info alert-dismissable\">\r\n            <p>{element.section_name}</p>\r\n            <Button id={element._id} outline color=\"info\" onClick={(e) => this.toggle(e, element._id)} style={{ marginBottom: '1rem' }}>\r\n              New Item\r\n            </Button>\r\n            <Collapse isOpen={this.state.collapse == element._id}>\r\n\r\n              <form class=\"form-horizontal\" role=\"form\" onSubmit={(e) => this.formSumbit(e, element._id)}>\r\n                <div class=\"form-group\">\r\n                  <label class=\"col-lg-3 control-label\">Name</label>\r\n                  <div class=\"col-lg-8\">\r\n                    <input class=\"form-control\" type=\"text\" placeholder=\"Item Name\" required />\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"form-group\" >\r\n                  <label class=\"col-lg-3 control-label\">Description</label>\r\n                  <div class=\"col-lg-8\">\r\n                    <input class=\"form-control\" type=\"text\" placeholder=\"Item Description\" required />\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"form-group\" >\r\n                  <label class=\"col-lg-3 control-label\">Price</label>\r\n                  <div class=\"col-lg-8\">\r\n                    <input class=\"form-control\" type=\"number\" placeholder=\"Item Price\" required />\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"form-group\" >\r\n                  <label class=\"col-lg-3 control-label\">Cuisine</label>\r\n                  <div class=\"col-lg-8\">\r\n                    <input class=\"form-control\"  type=\"text\" placeholder=\"Cuisine\" required />\r\n                  </div>\r\n                </div> \r\n\r\n                <div>\r\n                <img src={this.state.imageLocation}></img>\r\n                <input type=\"file\" name=\"myImage\" onChange= {(e) => this.onChange(e)} required/>\r\n                </div>\r\n\r\n                <span>\r\n                  <button style={{ margin: '0 1rem' }}>Done</button>\r\n                </span>\r\n              </form>\r\n            </Collapse>\r\n          </div>\r\n        </div>\r\n      ));\r\n    } else {\r\n      displaySection = <h4>No sections found!!</h4>\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <Navbar color=\"light\" light expand=\"md\">\r\n          <NavbarBrand href=\"/\">GRUBHUB</NavbarBrand>\r\n          <NavbarToggler onClick={this.toggle} />\r\n          <Collapse isOpen={this.state.isOpen} navbar>\r\n            <Nav className=\"ml-auto\" navbar>\r\n              <UncontrolledDropdown nav inNavbar>\r\n                <DropdownToggle nav caret>\r\n                  Hi,{this.props.first}\r\n                </DropdownToggle>\r\n                <DropdownMenu right>\r\n                  <DropdownItem href=\"/order\">\r\n                    PastOrders\r\n                      </DropdownItem>\r\n                  <DropdownItem href=\"/profile\">\r\n                    Account\r\n                      </DropdownItem>\r\n                  <DropdownItem divider />\r\n                  <DropdownItem href=\"/logout\">\r\n                    Logout\r\n                      </DropdownItem>\r\n                </DropdownMenu>\r\n              </UncontrolledDropdown>\r\n            </Nav>\r\n          </Collapse>\r\n        </Navbar>\r\n        <div>\r\n          <Nav pills>\r\n            <NavItem>\r\n              <NavLink href=\"/addS\">UPDATE SECTION </NavLink>\r\n            </NavItem>\r\n            <NavItem>\r\n              <NavLink  href=\"/delS\">DELETE SECTION </NavLink>\r\n            </NavItem>\r\n            <NavItem>\r\n              <NavLink active href=\"/addI\">ADD ITEM</NavLink>\r\n            </NavItem>\r\n            <NavItem>\r\n              <NavLink  href=\"/dItems\">MENU</NavLink>\r\n            </NavItem>\r\n          </Nav>\r\n        </div>\r\n\r\n        <div>\r\n          <p>{this.state.message}</p>\r\n          {displaySection}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default compose(\r\n  graphql(newUserMutation, { name: \"newUserMutation\" })\r\n  )(addItem);"]},"metadata":{},"sourceType":"module"}