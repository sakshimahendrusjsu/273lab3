{"ast":null,"code":"import _defineProperty from \"/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/src/Login/LoginBuyer.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Form, Button, FormGroup, Label, Input } from 'reactstrap';\nimport { FacebookLoginButton, GoogleLoginButton } from \"react-social-login-buttons\";\nimport cookie from 'react-cookies';\nimport { Redirect } from 'react-router';\nimport '../Create/CreateBuyer.css';\nimport { withApollo } from \"react-apollo\";\nimport { graphql, compose } from \"react-apollo\";\nimport { getLoginQuery } from '../queries/queries'; //Define a Login Component\n\nvar LoginBuyer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LoginBuyer, _Component);\n\n  function LoginBuyer(props) {\n    var _this;\n\n    _classCallCheck(this, LoginBuyer);\n\n    //Call the constructor of Super class i.e The Component\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LoginBuyer).call(this, props));\n    _this.submitSignIn = _this.submitSignIn.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      success: false\n    };\n    return _this;\n  }\n\n  _createClass(LoginBuyer, [{\n    key: \"submitSignIn\",\n    value: function submitSignIn(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n      this.props.client.query({\n        query: getLoginQuery,\n        variables: {\n          email: e.target[0].value,\n          password: e.target[1].value,\n          \"user_type\": \"buyer\"\n        }\n      }).then(function (res) {\n        if (res.data.login.message) {\n          alert(\"Enter Valid Credentials\");\n        } else {\n          localStorage.setItem(\"token\", JSON.stringify(res));\n          localStorage.setItem(\"type\", \"buyer\");\n\n          _this2.setState({\n            succes: true\n          });\n        }\n\n        console.log(JSON.stringify(res));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _React$createElement;\n\n      var output = this.props.output;\n      var response = cookie.load('cookyou');\n      console.log(this.props.message);\n      console.log(output);\n      console.log(\"cookyou\", response);\n\n      if (this.state.succes) {\n        return React.createElement(Redirect, {\n          to: \"/home\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"/\",\n        class: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"GRUBHUB\"), React.createElement(\"div\", {\n        class: \"header-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      })), React.createElement(Form, {\n        className: \"create-buyer\",\n        onSubmit: this.submitSignIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"font-weight-bold\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \"Sign in with your Grubhub account\")), React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, this.props.message), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Email\"), React.createElement(Input, (_React$createElement = {\n        type: \"email\",\n        placeholder: \"Email\",\n        name: \"email\"\n      }, _defineProperty(_React$createElement, \"placeholder\", \"abc@example.com\"), _defineProperty(_React$createElement, \"pattern\", \"[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,}$\"), _defineProperty(_React$createElement, \"required\", true), _defineProperty(_React$createElement, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      }), _defineProperty(_React$createElement, \"__self\", this), _React$createElement))), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Password\"), React.createElement(Input, {\n        type: \"password\",\n        placeholder: \"Password\",\n        name: \"password\",\n        minlength: \"8\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      })), React.createElement(Button, {\n        className: \"btn-lg btn-dark btn-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Sign in\"), React.createElement(\"div\", {\n        className: \"text-center pt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Or\"), React.createElement(FacebookLoginButton, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(GoogleLoginButton, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"text-centre\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"/create\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Create your account\"))));\n    }\n  }]);\n\n  return LoginBuyer;\n}(Component);\n\nexport default withApollo(LoginBuyer);","map":{"version":3,"sources":["/Users/sakshi/Documents/AllCodes/React/273/lab/frontend/src/Login/LoginBuyer.js"],"names":["React","Component","axios","Form","Button","FormGroup","Label","Input","FacebookLoginButton","GoogleLoginButton","cookie","Redirect","withApollo","graphql","compose","getLoginQuery","LoginBuyer","props","submitSignIn","bind","state","success","e","preventDefault","client","query","variables","email","target","value","password","then","res","data","login","message","alert","localStorage","setItem","JSON","stringify","setState","succes","console","log","output","response","load"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { Form, Button, FormGroup, Label, Input } from 'reactstrap';\r\nimport { FacebookLoginButton, GoogleLoginButton } from \"react-social-login-buttons\";\r\nimport cookie from 'react-cookies';\r\nimport { Redirect } from 'react-router';\r\nimport '../Create/CreateBuyer.css';\r\nimport { withApollo } from \"react-apollo\";\r\nimport { graphql,compose } from \"react-apollo\";\r\nimport { getLoginQuery } from '../queries/queries';\r\n//Define a Login Component\r\nclass LoginBuyer extends Component {\r\n  constructor(props) {\r\n    //Call the constructor of Super class i.e The Component\r\n    super(props);\r\n    this.submitSignIn = this.submitSignIn.bind(this);\r\n    this.state={\r\n      success : false\r\n    }\r\n  }\r\n\r\n  submitSignIn(e) {\r\n    e.preventDefault();\r\n    this.props.client\r\n    .query({\r\n      query: getLoginQuery,\r\n      variables: {\r\n        email:(e.target[0].value),\r\n        password: (e.target[1].value),\r\n        \"user_type\" : \"buyer\"\r\n      }\r\n    })\r\n    .then(res => {\r\n      if (res.data.login.message) {\r\n        alert(\"Enter Valid Credentials\");\r\n      } else {\r\n        localStorage.setItem(\"token\", JSON.stringify(res));\r\n        localStorage.setItem(\"type\", \"buyer\");\r\n        this.setState({\r\n          succes:true\r\n        })\r\n      }\r\n      console.log(JSON.stringify(res));\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let output = this.props.output;\r\n    let response = cookie.load('cookyou');\r\n    console.log(this.props.message);\r\n    console.log(output);\r\n    console.log(\"cookyou\",response);\r\n    if (this.state.succes) {\r\n      return (<Redirect to=\"/home\" />);                                     \r\n    }\r\n    return (\r\n      <React.Fragment>\r\n        <div class=\"header\">\r\n          <a href=\"/\" class=\"logo\">GRUBHUB</a>\r\n          <div class=\"header-right\">\r\n          </div>\r\n        </div>\r\n        <Form className=\"create-buyer\" onSubmit={this.submitSignIn}>\r\n          <h3><span className=\"font-weight-bold\">Sign in with your Grubhub account</span></h3>\r\n          <h5>{this.props.message}</h5>\r\n          <FormGroup>\r\n            <Label>Email</Label>\r\n            <Input type=\"email\" placeholder=\"Email\" name=\"email\" placeholder=\"abc@example.com\" pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$\" required></Input>\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <Label>Password</Label>\r\n            <Input type=\"password\" placeholder=\"Password\" name=\"password\" minlength=\"8\" required></Input>\r\n          </FormGroup>\r\n          <Button className=\"btn-lg btn-dark btn-block\">Sign in</Button>\r\n          <div className=\"text-center pt-3\">Or</div>\r\n          <FacebookLoginButton />\r\n          <GoogleLoginButton />\r\n          <div className=\"text-centre\">\r\n            <a href=\"/create\">Create your account</a>\r\n          </div>\r\n        </Form>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default withApollo(LoginBuyer);"]},"metadata":{},"sourceType":"module"}